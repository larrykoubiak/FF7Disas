<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>FF8/Engine/WorldMapCamera - QhimmWiki</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.20.2" />
<link rel="shortcut icon" href="http://wiki.qhimm.com/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.qhimm.com/opensearch_desc.php" title="QhimmWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.qhimm.com/api.php?action=rsd" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-nc-sa/2.5/" />
<link rel="alternate" type="application/atom+xml" title="QhimmWiki Atom feed" href="http://wiki.qhimm.com/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../../../load.php@debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.vector&amp;only=styles&amp;skin=vector&amp;%252A.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: qhimm_wiki:resourceloader:filter:minify-css:7:9f75cd7a214f5d1850ed6d0df1a4a089 */</style>

<script src="../../../load.php@debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;%252A"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"FF8/Engine/WorldMapCamera","wgTitle":"FF8/Engine/WorldMapCamera","wgCurRevisionId":4979,"wgArticleId":1816,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"FF8/Engine/WorldMapCamera","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: qhimm_wiki:resourceloader:filter:minify-js:7:7330ebaa3a8da3f7992caf476ddb8efd */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-FF8_Engine_WorldMapCamera skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content" class="mw-body">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading"><span dir="auto">FF8/Engine/WorldMapCamera</span></h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">From QhimmWiki</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"><span class="subpages">&lt; <a href="../../FF8.html" title="FF8">FF8</a></span></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="WorldMapCamera.html#mw-head">navigation</a>, 					<a href="WorldMapCamera.html#p-search">search</a>
				</div>
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>By MaKiPL.&#160;:*
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="WorldMapCamera.html#Camera_detail"><span class="tocnumber">1</span> <span class="toctext">Camera detail</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="WorldMapCamera.html#Camera_build"><span class="tocnumber">1.1</span> <span class="toctext">Camera build</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="WorldMapCamera.html#Camera_OPCODE"><span class="tocnumber">2</span> <span class="toctext">Camera OPCODE</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="WorldMapCamera.html#Camera_logical_zoom"><span class="tocnumber">2.1</span> <span class="toctext">Camera logical zoom</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="WorldMapCamera.html#Tangent_Y"><span class="tocnumber">2.2</span> <span class="toctext">Tangent Y</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="WorldMapCamera.html#Tangent_X"><span class="tocnumber">2.3</span> <span class="toctext">Tangent X</span></a></li>
</ul>
</li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Camera_detail">Camera detail</span></h2>
<p>Camera on world map is set to look-at target. Look at target is Squall, that is read from chara.one in world.fs file. 
</p><p>As the camera is look-at, then it works and moves on "logic" sphere. Memory in FF8 is static. Camera memory starts soon after last face indice layout is hold. Is after 3-4 unknown NULL bytes.
</p>
<h3> <span class="mw-headline" id="Camera_build">Camera build</span></h3>
<p>Remember! Values are <b>little-endian</b>!
</p><p>Physical camera location/translation:
</p>
<table border="1" cellspacing="1" cellpadding="3" align="center" style="border: 1px solid black; border-collapse: collapse;">
<tr>
<th style="background:rgb(204,204,204)"> Offset
</th>
<th style="background:rgb(204,204,204)"> Static memory address
</th>
<th style="background:rgb(204,204,204)"> Default or medium value
</th>
<th style="background:rgb(204,204,204)"> Type of value
</th>
<th style="background:rgb(204,204,204)"> Description
</th></tr>
<tr>
<td> 0
</td>
<td> 0x0203ECF8
</td>
<td> 0
</td>
<td> short (2 bytes signed)
</td>
<td> Camera Y axis translation. Camera.Location.Y = (Squall.Location + THIS);
</td></tr>
<tr>
<td> 2
</td>
<td> 0x0203ECFA
</td>
<td> AB FE
</td>
<td> short (2 bytes signed)
</td>
<td> Camera X axis translation. Camera.Location.X = (Squall.Location.X + THIS);
</td></tr>
<tr>
<td> 4
</td>
<td> 0x0203ECFC
</td>
<td> 00 E4 / 00 E0
</td>
<td> short (2 bytes signed)
</td>
<td> Distance between camera and look-at-target  (physical)
</td></tr>
<tr>
<td> 8
</td>
<td> 0x0203ED00
</td>
<td> ~FF 92
</td>
<td> uint16
</td>
<td> Operates camera tangent Y axis position. This is: hacking this to bird-fly view or like in RPG
</td></tr>
<tr>
<td> 10
</td>
<td> 0x0203ED02
</td>
<td> ranges from 00 00 to 0F FF
</td>
<td> 12 bit
</td>
<td> Operates camera tangent Z axis position. This is: the same as rotating camera in-game
</td></tr>
<tr>
<td> 12
</td>
<td> 0x0203ED04
</td>
<td> 00 00 (FF 0F max)
</td>
<td> 12 bit
</td>
<td> Camera root rotation. For up-side down example. 9-12th bit is irrelevant. (1111 1111 xxxx 1111)
</td></tr>
<tr>
<td> 40
</td>
<td> 0x0203ED2C
</td>
<td> 0
</td>
<td> bool
</td>
<td> RESET CAMERA
</td></tr></table>
<p>Others:
</p>
<table border="1" cellspacing="1" cellpadding="3" align="center" style="border: 1px solid black; border-collapse: collapse;">
<tr>
<th style="background:rgb(204,204,204)"> Static memory address
</th>
<th style="background:rgb(204,204,204)"> Default or medium value
</th>
<th style="background:rgb(204,204,204)"> Type of value
</th>
<th style="background:rgb(204,204,204)"> Description
</th></tr>
<tr>
<td> 0x01CA92E4
</td>
<td> 1024/640
</td>
<td> uint16
</td>
<td> Logical camera zoom - Takes physical camera and applies logical zoom*
</td></tr></table>
<p>Logical zoom, for FF8 they're fixed values:
</p>
<ul><li>640 - when camera mode is set to far
</li><li>1024 - when camera mode is set to near
</li></ul>
<p>These zoom is operated, when you in-game set the camera near-far preferences. (F default in Steam release)
</p>
<h2> <span class="mw-headline" id="Camera_OPCODE">Camera OPCODE</span></h2>
<p>PRESENTED OPCODE'S ARE FOR STEAM RELEASE!
If no opcode for variable above, then this variable is mostly fixed and is not changed on world map itself. (This is for example static vars).
</p>
<h3> <span class="mw-headline" id="Camera_logical_zoom">Camera logical zoom</span></h3>
<pre>FF8_EN.exe+5D7FA - mov [eax*4+FF8_EN.exe+18A927C],ecx
</pre>
<h3> <span class="mw-headline" id="Tangent_Y">Tangent Y</span></h3>
<pre>FF8_EN.exe+15901F - add word ptr [FF8_EN.exe+1C3ED00],-10
FF8_EN.exe+15900F - add word ptr [FF8_EN.exe+1C3ED00],10
FF8_EN.exe+1584EA - add word ptr [FF8_EN.exe+1C3ED00],04
FF8_EN.exe+15902C - mov [FF8_EN.exe+1C3ED00],ax
FF8_EN.exe+15848D - mov [FF8_EN.exe+1C3ED00],ax
FF8_EN.exe+1584C4 - mov [FF8_EN.exe+1C3ED00],dx
</pre>
<ul><li>ADD applies tick to smooth camera going down logic
</li><li>MOV applies camera going up and additional operations
</li></ul>
<h3> <span class="mw-headline" id="Tangent_X">Tangent X</span></h3>
<pre>FF8_EN.exe+158676 - add [FF8_EN.exe+1C3ED02],ax
FF8_EN.exe+15873E - add [FF8_EN.exe+1C3ED02],ax
FF8_EN.exe+15871A - add [FF8_EN.exe+1C3ED02],ax
FF8_EN.exe+158936 - mov [ecx+0A],ax
</pre>
<ul><li>First ADD is applied on regular translation. The one that user can rotate in-game mainly
</li><li>Second ADD is applied on translations when character is going eg. right, and camera is set to front 
</li><li>Third ADD is applied when Squall has moved enough in one direction, so the camera is rotated hardly
</li><li>Additional MOV is to finally check and correct camera rotation
</li></ul>

<!-- 
NewPP limit report
Preprocessor visited node count: 23/1000000
Preprocessor generated node count: 28/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key qhimm_wiki:pcache:idhash:1816-0!*!*!!en!*!* and timestamp 20160922123825 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				<div class="printfooter">
				Retrieved from "<a href="http://wiki.qhimm.com/index.php?title=FF8/Engine/WorldMapCamera&amp;oldid=4979">http://wiki.qhimm.com/index.php?title=FF8/Engine/WorldMapCamera&amp;oldid=4979</a>"				</div>
				<!-- /printfooter -->
												<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
				<!-- debughtml -->
								<!-- /debughtml -->
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Personal tools</h5>
	<ul>
		<li id="pt-login"><a href="http://wiki.qhimm.com/index.php?title=Special:UserLogin&amp;returnto=FF8%2FEngine%2FWorldMapCamera" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
	</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="WorldMapCamera.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://wiki.qhimm.com/edit/Talk:FF8/Engine/WorldMapCamera?redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
	<h4>
		</h4>
	<h5><span>Variants</span><a href="WorldMapCamera.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="WorldMapCamera.html" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="http://wiki.qhimm.com/edit/FF8/Engine/WorldMapCamera"  title="This page is protected.&#13;&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://wiki.qhimm.com/history/FF8/Engine/WorldMapCamera"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="WorldMapCamera.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://wiki.qhimm.com/index.php" id="searchform">
				<div>
			<input type="search" name="search" title="Search QhimmWiki [f]" accesskey="f" id="searchInput" />			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />					<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../../../skins/wiki.png);" href="../../Main_Page.html"  title="Visit the main page"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Navigation</h5>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-portal"><a href="http://wiki.qhimm.com/view/QhimmWiki:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-currentevents"><a href="http://wiki.qhimm.com/view/QhimmWiki:Current_events" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="../../Special%253ARecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="../../Special%253ARandom.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="../../Help%253AContents.html" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id='p-tb'>
	<h5>Toolbox</h5>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="../../Special%253AWhatLinksHere/FF8/Engine/WorldMapCamera.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="../../Special%253ARecentChangesLinked/FF8/Engine/WorldMapCamera.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="../../Special%253ASpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="http://wiki.qhimm.com/index.php?title=FF8/Engine/WorldMapCamera&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="http://wiki.qhimm.com/index.php?title=FF8/Engine/WorldMapCamera&amp;oldid=4979" title="Permanent link to this revision of the page">Permanent link</a></li>
		</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 16 May 2015, at 12:17.</li>
											<li id="footer-info-viewcount">This page has been accessed 1,209 times.</li>
											<li id="footer-info-copyright">Content is available under <a class="external" href="http://creativecommons.org/licenses/by-nc-sa/2.5/">Attribution-NonCommercial-ShareAlike</a>.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://wiki.qhimm.com/view/QhimmWiki:Privacy_policy" title="QhimmWiki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="http://wiki.qhimm.com/view/QhimmWiki:About" title="QhimmWiki:About">About QhimmWiki</a></li>
											<li id="footer-places-disclaimer"><a href="../../QhimmWiki%253AGeneral_disclaimer.html" title="QhimmWiki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/"><img src="http://creativecommons.org/images/public/somerights20.gif" alt="Attribution-NonCommercial-ShareAlike" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="../../../load.php@debug=false&amp;lang=en&amp;modules=skins.vector&amp;only=scripts&amp;skin=vector&amp;%252A"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest"], null, true);
}</script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<!-- Served in 0.113 secs. -->
	</body>
</html>
